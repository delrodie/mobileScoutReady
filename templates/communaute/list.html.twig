{% extends 'base.html.twig' %}

{% block turbo_frame %}
    <turbo-frame id="main-frame">
        {% block body %}
            {{ render(url('app_main_header'))}}

            <main class="max-w-sm mx-auto mt-3 mb-5"
                  data-controller="communaute"
                  data-communaute-api-url-value="{{ path('api_communaute_index') }}"
            >

                <div class="px-4 me-auto">
                    <form onsubmit="return false;">
                        <div class="position-relative form-floating mt-3">
                            <input type="text"
                                   class="form-control rounded-start-pill rounded-end-pill input-style  ps-5"
                                   id="filtreScout"
                                   placeholder="Nom, prenom ou fonction"
                                   data-communaute-target="input"
                                   data-action="input->communaute#search"
                                   autocomplete="off"
                            >
                            <label for="filtreScout" class="ms-3">Recherchez un membre</label>
                            <i class="bi bi-search position-absolute top-50 start-0 translate-middle-y text-secondary fs-5 ms-1 me-5"></i>
                        </div>
                    </form>
                </div>

                <section class="liste mt-5 px-3">
                    {# Loader #}
                    <div data-communaute-target="loader" class="text-center py-5">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Chargement...</span>
                        </div>
                        <p class="mt-2 text-muted fsize-12">Recherche des scouts de votre région...</p>
                    </div>
                    {# Message vide #}
                    <div data-communaute-target="empty" class="d-none text-center py-5">
                        <p class="text-muted">Aucun scout trouvé dans votre communauté.</p>
                    </div>
                    {# Liste des scouts#}
                    <ul class="list-group list-group-flush" data-communaute-target="list">
                    </ul>

                    <div data-communaute-target="pagination" class="text-center py-3 d-none">
                        <div class="spinner-border spinner-border text-secondary" role="status">
                            <div class="visually-hidden">Loading...</div>
                        </div>
                    </div>
                </section>

                {# Lignes des scouts #}
                <template data-communaute-target="template">
                    <li class="list-group-item shadow-sm mb-2">
                        <a href="#" class="text-decoration-none text-secondary">
                            <div class="row g-2 d-flex align-items-center">
                                <div class="col-3">
                                    <div
                                        data-controller="image-loader"
                                        data-image-loader-src-value="{{ asset('img/avatar/avatar_fille.png') }}"
{#                                        data-image-loader-native-src-value="asset://{{ asset('img/avatar/avatar_femme.png') }}"#}
                                        data-image-loader-preload-value="true"
                                        data-communaute-target="avatarLoader"
                                    >
                                        <img alt="" class="img-fluid">
                                    </div>

                                </div>
                                <div class="col-9">
                                    <h5 class="fsize-13 text-body mb-0 pb-0 js-nom">Nom</h5>
                                    <div class="fsize-12 text-color-main mb-0 pb-0 js-fonction">Fonction</div>
                                    <div class="text-muted fsize-12 fst-italic mt-0 pt-0 js-instance">Instance</div>
                                </div>
                            </div>
                        </a>
                    </li>
                </template>

            </main>
            {{ include('default/_nav.html.twig')}}
        {% endblock %}
    </turbo-frame>



{% endblock %}
