{% extends 'base.html.twig' %}
{% block title %} Accueil {% endblock %}
{% block body %}

    {{ include('default/_partial_header.html.twig') }}

    <section class="pl-4 pb-4">
        <div id="carousel-container" class="flex overflow-x-scroll snap-x snap-mandatory space-x-4 pr-4">

            <div class="carousel-item relative rounded-xl overflow-hidden shadow-lg h-48 sm:h-56 md:h-64 flex-shrink-0">
                <a href="{{ path('app_activite_index') }}">
                    <div class="absolute inset-0 bg-cover bg-center"
                         style="background-image: url({{ asset('img/activites/jambognan2.png') }}); background-color: #2D679E; padding: 1rem;">
                    </div>
                </a>
            </div>

            <div class="carousel-item relative rounded-xl overflow-hidden shadow-lg h-48 sm:h-56 md:h-64 flex-shrink-0">
                <div class="absolute inset-0 bg-cover bg-center bg-green-700"
                     style="background-image: url('placeholder-scouts.jpg'); padding: 1rem;">
                    <div class="text-white p-4 absolute inset-0 flex flex-col justify-end">
                        <h2 class="text-lg font-bold tracking-tight">NATIONAL JAMBOREE</h2>
                        <h1 class="text-3xl font-extrabold leading-none">Bivouac 2026</h1>
                        <p class="text-sm">Du 01 au 07 Février 2026</p>
                        <p class="text-xs mt-1">Préparez vos tentes et vos lampes, l'aventure vous attend !</p>
                    </div>
                </div>
            </div>

            <div class="carousel-item relative rounded-xl overflow-hidden shadow-lg h-48 sm:h-56 md:h-64 flex-shrink-0">
                <a href="activites.html">
                    <div class="absolute inset-0 bg-cover bg-center"
                         style="background-image: url('./assets/img/activites/jambognan2.png'); background-color: #2D679E; padding: 1rem;">
                    </div>
                </a>
            </div>

        </div>

        <div class="flex justify-center mt-3 space-x-1" id="carousel-dots">
            <span class="w-2 h-2 bg-blue-600 rounded-full"></span>
            <span class="w-2 h-2 bg-gray-300 rounded-full"></span>
            <span class="w-2 h-2 bg-gray-300 rounded-full"></span>
        </div>
    </section>

    <section class="p-4">
        <h2 class="text-lg font-bold mb-4 text-gray-800">Champs d'activités</h2>
        <div class="grid grid-cols-3 gap-y-6 text-center">
            <div class="flex flex-col items-center">
                <a href="domaine_detail.html">
                    <div class="w-16 h-16 rounded-full border-2 border-blue-400 p-1 mb-1 shadow-md flex items-center justify-center">
                        <div class="w-full h-full rounded-full bg-blue-100 flex items-center justify-center">
                            <img src="./assets/img/champs/01-technique-scout.png" alt="Nature" class="w-14 h-14" />
                        </div>
                    </div>
                    <p class="text-xs font-medium text-gray-700">Nature et plein air</p>
                </a>
            </div>
            <div class="flex flex-col items-center">
                <div
                    class="w-16 h-16 rounded-full border-2 border-blue-400 p-1 mb-1 shadow-md flex items-center justify-center">
                    <div class="w-full h-full rounded-full bg-blue-100 flex items-center justify-center">
                        <img src="./assets/img/champs/02_civisme.png" alt="Scout" class="w-14 h-14" />
                    </div>
                </div>
                <p class="text-xs font-medium text-gray-700">Techniques scoutes</p>
            </div>
            <div class="flex flex-col items-center">
                <div
                    class="w-16 h-16 rounded-full border-2 border-blue-400 p-1 mb-1 shadow-md flex items-center justify-center">
                    <div class="w-full h-full rounded-full bg-blue-100 flex items-center justify-center">
                        <img src="./assets/img/champs/03-sante.png" alt="Dev. Perso" class="w-14 h-14" />
                    </div>
                </div>
                <p class="text-xs font-medium text-gray-700 leading-tight">Développement personnel & leadership</p>
            </div>
            <div class="flex flex-col items-center">
                <div
                    class="w-16 h-16 rounded-full border-2 border-blue-400 p-1 mb-1 shadow-md flex items-center justify-center">
                    <div class="w-full h-full rounded-full bg-blue-100 flex items-center justify-center">
                        <img src="./assets/img/champs/04-technologie.png" alt="Civisme" class="w-14 h-14" />
                    </div>
                </div>
                <p class="text-xs font-medium text-gray-700 leading-tight">Civisme & Engagement Communautaire</p>
            </div>
            <div class="flex flex-col items-center">
                <div
                    class="w-16 h-16 rounded-full border-2 border-blue-400 p-1 mb-1 shadow-md flex items-center justify-center">
                    <div class="w-full h-full rounded-full bg-blue-100 flex items-center justify-center">
                        <img src="./assets/img/champs/05-environnement.png" alt="Culture" class="w-14 h-14" />
                    </div>
                </div>
                <p class="text-xs font-medium text-gray-700">Culture, Art & Expression</p>
            </div>
            <div class="flex flex-col items-center">
                <div
                    class="w-16 h-16 rounded-full border-2 border-blue-400 p-1 mb-1 shadow-md flex items-center justify-center">
                    <div class="w-full h-full rounded-full bg-blue-100 flex items-center justify-center">
                        <img src="./assets/img/champs/06-education-familliale.png" alt="Spiritualité" class="w-14 h-14" />
                    </div>
                </div>
                <p class="text-xs font-medium text-gray-700 leading-tight">Spiritualité & Vie et Foi</p>
            </div>
        </div>
    </section>

    <section class="p-4">
        <h2 class="text-xl font-semibold mb-4 text-gray-800">Parcours / progression</h2>

        <div class="space-y-3">
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 rounded-full bg-green-200 flex items-center justify-center shrink-0">
                    <img src="placeholder-nature.png" alt="Nature" class="w-5 h-5" />
                </div>
                <div class="flex-grow">
                    <p class="text-sm font-medium text-gray-700 leading-tight">Vie en nature et plein air</p>
                    <p class="text-xs text-blue-500">Durée: 10min</p>
                </div>
                <div class="relative w-24 h-5 bg-blue-50 rounded-md">
                    <div class="progress-bar-fill bg-blue-400" style="width: 80%;"></div>
                    <span
                        class="absolute right-0 top-0 bottom-0 pr-1 text-xs font-bold text-gray-700 flex items-center">80%</span>
                </div>
            </div>
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 rounded-full bg-blue-200 flex items-center justify-center shrink-0">
                    <img src="placeholder-scout.png" alt="Scout" class="w-5 h-5" />
                </div>
                <div class="flex-grow">
                    <p class="text-sm font-medium text-gray-700 leading-tight">Techniques scoutes</p>
                    <p class="text-xs text-blue-500">Durée: 12min</p>
                </div>
                <div class="relative w-24 h-5 bg-blue-50 rounded-md">
                    <div class="progress-bar-fill bg-blue-400" style="width: 75%;"></div>
                    <span
                        class="absolute right-0 top-0 bottom-0 pr-1 text-xs font-bold text-gray-700 flex items-center">75%</span>
                </div>
            </div>
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 rounded-full bg-yellow-200 flex items-center justify-center shrink-0">
                    <img src="placeholder-dev.png" alt="Dev. Perso" class="w-5 h-5" />
                </div>
                <div class="flex-grow">
                    <p class="text-sm font-medium text-gray-700 leading-tight">Développement personnel & leadership</p>
                    <p class="text-xs text-blue-500">Durée: 30min</p>
                </div>
                <div class="relative w-24 h-5 bg-blue-50 rounded-md">
                    <div class="progress-bar-fill bg-blue-400" style="width: 35%;"></div>
                    <span
                        class="absolute right-0 top-0 bottom-0 pr-1 text-xs font-bold text-gray-700 flex items-center">35%</span>
                </div>
            </div>
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 rounded-full bg-red-200 flex items-center justify-center shrink-0">
                    <img src="placeholder-civisme.png" alt="Civisme" class="w-5 h-5" />
                </div>
                <div class="flex-grow">
                    <p class="text-sm font-medium text-gray-700 leading-tight">Civisme & engagement communautaire</p>
                    <p class="text-xs text-blue-500">Durée: 17min</p>
                </div>
                <div class="relative w-24 h-5 bg-blue-50 rounded-md">
                    <div class="progress-bar-fill bg-blue-400" style="width: 50%;"></div>
                    <span
                        class="absolute right-0 top-0 bottom-0 pr-1 text-xs font-bold text-gray-700 flex items-center">50%</span>
                </div>
            </div>
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 rounded-full bg-purple-200 flex items-center justify-center shrink-0">
                    <img src="placeholder-culture.png" alt="Culture" class="w-5 h-5" />
                </div>
                <div class="flex-grow">
                    <p class="text-sm font-medium text-gray-700 leading-tight">Culture, Art & Expression</p>
                    <p class="text-xs text-blue-500">Durée: 5min</p>
                </div>
                <div class="relative w-24 h-5 bg-blue-50 rounded-md">
                    <div class="progress-bar-fill bg-green-500" style="width: 100%;"></div>
                    <span
                        class="absolute right-0 top-0 bottom-0 pr-1 text-xs font-bold text-white flex items-center">100%</span>
                </div>
            </div>
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 rounded-full bg-brown-200 flex items-center justify-center shrink-0">
                    <img src="placeholder-spiritualite.png" alt="Spiritualité" class="w-5 h-5" />
                </div>
                <div class="flex-grow">
                    <p class="text-sm font-medium text-gray-700 leading-tight">Spiritualité & Vie et Foi</p>
                    <p class="text-xs text-blue-500">Durée: 7min</p>
                </div>
                <div class="relative w-24 h-5 bg-blue-50 rounded-md">
                    <div class="progress-bar-fill bg-blue-400" style="width: 90%;"></div>
                    <span
                        class="absolute right-0 top-0 bottom-0 pr-1 text-xs font-bold text-gray-700 flex items-center">90%</span>
                </div>
            </div>
        </div>
    </section>

    {{ include('default/_nav.html.twig')}}
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script>
        // Script pour le Dropdown de Notification (inchangé)
        document.getElementById('notification-btn').addEventListener('click', function () {
            const dropdown = document.getElementById('notification-dropdown');
            dropdown.classList.toggle('hidden');
        });
        document.addEventListener('click', function (event) {
            const dropdown = document.getElementById('notification-dropdown');
            const button = document.getElementById('notification-btn');
            if (!button.contains(event.target) && !dropdown.contains(event.target)) {
                dropdown.classList.add('hidden');
            }
        });

        // Script pour la logique d'indicateur du Carousel (NOUVEAU)
        const carousel = document.getElementById('carousel-container');
        const dotsContainer = document.getElementById('carousel-dots');
        const dots = dotsContainer.children;

        // Met à jour les indicateurs (points) en fonction de la position du défilement
        carousel.addEventListener('scroll', () => {
            const scrollLeft = carousel.scrollLeft;
            const itemWidth = carousel.children[0].offsetWidth;

            // Calculer l'index actif (arrondi à la carte la plus proche)
            let activeIndex = Math.round(scrollLeft / itemWidth);

            // S'assurer que l'index ne dépasse pas le nombre de diapositives
            if (activeIndex < 0) activeIndex = 0;
            if (activeIndex >= dots.length) activeIndex = dots.length - 1;

            // Mettre à jour les classes des indicateurs
            for (let i = 0; i < dots.length; i++) {
                if (i === activeIndex) {
                    dots[i].classList.remove('bg-gray-300');
                    dots[i].classList.add('bg-blue-600');
                } else {
                    dots[i].classList.remove('bg-blue-600');
                    dots[i].classList.add('bg-gray-300');
                }
            }
        }});

    </script>
{% endblock %}
